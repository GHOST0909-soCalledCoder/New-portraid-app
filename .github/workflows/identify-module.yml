name: Identify Android module

on:
  workflow_dispatch:
  push:
    branches: [ "main" ]

jobs:
  find:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Show repo root and top-level folders
        run: |
          pwd
          ls -la
      - name: Find module build.gradle and AndroidManifests
        run: |
          echo "Searching for build.gradle and AndroidManifest.xml files..."
          find . -type f \( -name "build.gradle" -o -name "settings.gradle" -o -name "AndroidManifest.xml" \) -print || true
      - name: Print first lines of found build.gradle files
        run: |
          for f in $(find . -type f -name "build.gradle"); do
            echo "----- $f -----"
            sed -n '1,60p' "$f" || true
            echo
          done